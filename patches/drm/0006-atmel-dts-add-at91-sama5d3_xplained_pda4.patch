From 2716d87f7f8112c14a4af102ce2978d3a82e2d97 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Tue, 6 May 2014 15:58:51 -0500
Subject: [PATCH 6/6] atmel: dts: add at91-sama5d3_xplained_pda4

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/Makefile                       |  1 +
 arch/arm/boot/dts/at91-sama5d3_xplained_pda4.dts | 49 ++++++++++++++++++++++++
 2 files changed, 50 insertions(+)
 create mode 100644 arch/arm/boot/dts/at91-sama5d3_xplained_pda4.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 377b7c3..3fc6d96 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -43,6 +43,7 @@ dtb-$(CONFIG_ARCH_AT91) += at91sam9x25ek.dtb
 dtb-$(CONFIG_ARCH_AT91) += at91sam9x35ek.dtb
 # sama5d3
 dtb-$(CONFIG_ARCH_AT91)	+= at91-sama5d3_xplained.dtb
+dtb-$(CONFIG_ARCH_AT91)	+= at91-sama5d3_xplained_pda4.dtb
 dtb-$(CONFIG_ARCH_AT91)	+= sama5d31ek.dtb
 dtb-$(CONFIG_ARCH_AT91)	+= sama5d33ek.dtb
 dtb-$(CONFIG_ARCH_AT91)	+= sama5d34ek.dtb
diff --git a/arch/arm/boot/dts/at91-sama5d3_xplained_pda4.dts b/arch/arm/boot/dts/at91-sama5d3_xplained_pda4.dts
new file mode 100644
index 0000000..1130934
--- /dev/null
+++ b/arch/arm/boot/dts/at91-sama5d3_xplained_pda4.dts
@@ -0,0 +1,49 @@
+/*
+ * at91-sama5d3_xplained_pda4.dts - Device Tree file for the SAMA5D3 Xplained board
+ *
+ *  Copyright (C) 2014 Atmel,
+ *		  2014 Nicolas Ferre <nicolas.ferre@atmel.com>
+ *
+ * Licensed under GPLv2 or later.
+ */
+
+/* Documentation/devicetree/bindings/video/display-timing.txt */
+/* http://www.ghielectronics.com/downloads/man/HX8257-A_Preliminary_v01_20071227Controller4_3.pdf */
+
+#include "at91-sama5d3_xplained.dts"
+
+/ {
+	compatible = "atmel,sama5d3-xplained", "pda,tm43xx", "atmel,sama5d3", "atmel,sama5";
+
+	ahb {
+		apb {
+			hlcdc: hlcdc@f0030000 {
+				status = "okay";
+			};
+		};
+	};
+
+	panel {
+		compatible = "atmel,hlcdc,panel";
+		invert-hsync;
+		invert-vsync;
+		status = "okay";
+		display-timings {
+			480x272p60 {
+				clock-frequency = <27000000>;
+				hactive = <480>;
+				vactive = <272>;
+				hfront-porch = <6 6 246>;
+				hback-porch = <6 6 123>;
+				/* hsync-len? */
+				hsync-len = <10>;
+				vback-porch = <1 2 11>;
+				vfront-porch = <1 2 227>;
+				/* vsync-len? */
+				vsync-len = <10>;
+				hsync-active = <1>;
+				vsync-active = <1>;
+			};
+		};
+	};
+};
-- 
2.0.0.rc0

